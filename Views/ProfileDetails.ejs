<%- layout('layout/layout.ejs') %>

<link rel="stylesheet" type="text/css" href="stylesheets/datatables.css">
<link type="text/css" href="stylesheets/datatables.min.css">

<%- include('partials/top-bar.ejs') %>
    <div id="viewscreen" >
    <%- include('partials/side-navbar.ejs') %>
        <div id="rightview">
            <div class="container-fluid div-min-width" style="padding:0">
                <div class="row">
                    <div class="col-lg-12 parentDiv" style="padding:0">
                        <div class="to-center-div">
                            <div class="container childDiv">
                                <div class="panel panel-default" style="background: rgb(249, 249, 249);box-shadow: 0 3px 10px 0 rgba(115,143,147,.3);">
                                    <div class="panel-body">
                                        <div class="d-flex imageDiv">
                                            <div class="image-container">
                                                <img src="<%= data.photoname %>" id="profilepic">
                                            </div>

                                            <form id="userImage" action="/user/Userupload" enctype="multipart/form-data" method="POST">
                                                <input type="file" name="userFile" accept="image/*" />
                                                <input type="submit" value="Change"/>
                                            </form>
                                        </div>

                                            <br><br>

                                            <div class="col-sm-12">

                                                <div class="panel panel-default panelDiv">
                                                    <div class="panel-heading">Basic Info</div>
                                                <div class="panel-body">
                                                    
                                                    <div class="form-group">
                                                        <label>Email :</label>
                                                        <input type="text" value="<%= data.email  %>" class="form-control" name="username" disabled="true" id="user_email" />
                                                    </div>

                                                    <div class="form-group">
                                                        <label>Name :</label>
                                                        <input type="text" value="<%= data.name  %>" class="form-control" name="name" id="user_name" />
                                                    </div>

                                                    <div class="col-sm-5 form-group" style="padding:0;">
                                                        <label>DOB :</label>
                                                        <input class="form-control dobDate" id="birth_date" value="<%= data.dob  %>" name="dob" placeholder="DD-MM-YYYY" type="date" autocomplete="off" required="">
                                                    </div>

                                                    <div class="form-group col-sm-5 col-sm-push-2" style="padding:0;">
                                                            <label>Gender :</label>
                                                            <select name="gender" class="form-control" id="user_gender">
                                                            <optgroup label="Select Gender" >
                                                                <option value="Male" selected="">Male</option>
                                                                <option value="Female">Female</option>
                                                                <option value="Transgender">Transgender</option>
                                                            </optgroup>
                                                            </select>
                                                    </div>
                                                    </div>
                                                </div>

                                                <div class="panel panel-default panelDiv">
                                                     <div class="panel-heading">Contact Info</div>
                                                <div class="panel-body">

                                                <div class="form-group">
                                                    <label>Phone :</label>
                                                    <input type="text" value="<%= data.phone  %>" class="form-control" name="phone" maxlength="10" required="" id="user_phone"
                                                    />
                                                </div>

                                                <div class="form-group">
                                                    <label>City :</label>
                                                    <input type="text" value="<%= data.city  %>" class="form-control" name="city" required="" id="user_city"/>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <a href="#" class="btn btn-warning pull-left btnEditForm" style="margin:1px" onclick="changePassword()">Change Password</a>

                                            <a href="#" class="btn btn-danger pull-right btnEditForm" style="margin:1px" onclick="homePage()">Cancel</a>
                                            <input type="submit" class="btn btn-primary pull-right btnEditForm" style="margin:1px" value="Update" onclick="updateUserDetails()">
                                        </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<script type="text/javascript" src="js/ProfileDetails.js"></script>